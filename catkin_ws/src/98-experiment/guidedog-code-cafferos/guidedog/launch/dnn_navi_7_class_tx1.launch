<launch>
    <arg name="veh" doc="Name of vehicle. ex: megaman"/>
    <arg name="local" default="false" doc="true for running everything you possibly can on laptop. false for everything running on vehicle."/>
    <arg name="config" default="baseline" doc="Specify a config."/>
    <arg name="param_file_name" default="default" doc="Specify a param file. ex:megaman." />
    <arg name="classes" default="7" doc="Specify classes number."/>
    <arg name="mode" default="1" doc="0: without image switch, 1: with image switch."/>
    <arg name="motion_mode" default="0" doc="0: continuous motion, 1: robot like motion."/>

    <remap from="gd_R2L_picamera_node/image_switch" to="gd_text_car_cmd_node/image_switch"/>
    <include file="$(find gd_ros2lcm)/launch/gd_R2L_picamera_node.launch">
        <arg name="veh" value="$(arg veh)"/>
        <arg name="mode" value="$(arg mode)"/>
  	</include>

    <include file="$(find gd_lcm2ros)/launch/gd_L2R_text_text_node.launch">
        <arg name="veh" value="$(arg veh)"/>
        <arg name="local" value="$(arg local)"/>
        <arg name="config" value="$(arg config)"/>
        <arg name="param_file_name" value="$(arg param_file_name)"/>
  	</include>

    <remap from="gd_lane_filter_node/car_cmd" to="lane_controller_node/car_cmd"/>
    <remap from="gd_lane_filter_node/caffe_predictions" to="gd_L2R_text_text_node/caffe_predictions"/>
    <include file="$(find gd_motion)/launch/gd_lane_filter_node.launch">
        <arg name="veh" value="$(arg veh)"/>
    </include>

    <remap from="lane_controller_node/lane_pose" to="gd_lane_filter_node/lane_pose"/>
    <include file="$(find lane_control)/launch/lane_controller_node.launch">
        <arg name="veh" value="$(arg veh)"/>
        <arg name="local" value="$(arg local)"/>
        <arg name="config" value="$(arg config)"/>
        <arg name="param_file_name" value="$(arg param_file_name)"/>        
    </include>


</launch>
